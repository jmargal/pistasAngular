"use strict";(self.webpackChunkpistas=self.webpackChunkpistas||[]).push([[672],{8672:(xi,Y,R)=>{R.r(Y),R.d(Y,{PistasRoutingModule:()=>yi});var P=R(3599),k=R(6733),n=R(6865);n.bJ.touchMouseIgnoreWait=500;let O=0,H=0,j=!1;class W{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function fe(r){return 0===r.button&&!r.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function pe(){O+=1,setTimeout(()=>{O-=1},n.bJ.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new n.F,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function me(){H+=1,1===H&&window.addEventListener("touchmove",B,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function ve(){H-=1,H||window.removeEventListener("touchmove",B,{passive:!1})}()}tryStart(e){let t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,n.a0)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){j=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?(0,n.a0)(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return O||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(j=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let s,l,i=e.touches,o=0,a=0;return i&&i.length?(s=i[0].pageX,l=i[0].pageY):(s=e.pageX,l=e.pageY),t?(this.origPageX=s,this.origPageY=l):(o=s-this.origPageX,a=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:l,deltaX:o,deltaY:a}}}function B(r){j&&r.preventDefault()}class ye{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",(0,n.aQ)(i,{left:s.left,top:s.top}),(0,n.b3)(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&((0,n.aP)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,n.aQ)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,n.aQ)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class q extends n.bc{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class X extends q{constructor(e,t){super(new n.bd(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,n.b4)(this.scrollController.el)}}class be extends q{constructor(e){super(new n.be,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Z="function"==typeof performance?performance.now:Date.now;class Se{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let t=Z();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.pageXOffset,s=t-window.pageYOffset,l=null===this.pointerScreenY?0:s-this.pointerScreenY,o=null===this.pointerScreenX?0:i-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Z()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,l=s-e.distance,o=l*l/(s*s)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*a)}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,l=this.scrollCaches||[];for(let o of l){let a=o.clientRect,d=e-a.left,h=a.right-e,g=t-a.top,p=a.bottom-t;d>=0&&h>=0&&g>=0&&p>=0&&(g<=i&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:o,name:"top",distance:g}),p<=i&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>p)&&(s={scrollCache:o,name:"bottom",distance:p}),d<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"left",distance:d}),h<=i&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>h)&&(s={scrollCache:o,name:"right",distance:h}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new be(!1):new X(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class C extends n.bI{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,n.as)(document.body),(0,n.au)(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let o,l=this.minDistance,{deltaX:a,deltaY:d}=s;o=a*a+d*d,o>=l*l&&this.handleDistanceSurpassed(s)}this.isDragging&&("scroll"!==s.origEvent.type&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,(0,n.at)(document.body),(0,n.av)(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new W(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new ye,this.autoScroller=new Se}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Ee{constructor(e){this.origRect=(0,n.b7)(e),this.scrollCaches=(0,n.b6)(e).map(t=>new X(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!De(s.getEventTarget())&&!(0,n.aG)(i,s.clientRect))return!1;return!0}}function De(r){let e=r.tagName;return"HTML"===e||"BODY"===e}class z{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new n.F}processFirstCoord(e){let l,t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl;s instanceof HTMLElement&&(l=(0,n.b7)(s),i=(0,n.aH)(i,l));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&l){let a=(0,n.aF)(l,o.rect);a&&(i=(0,n.aI)(a))}this.coordAdjust=(0,n.aJ)(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!N(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=(0,n.b)(this.droppableStore,e=>(e.component.prepareHits(),new Ee(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,l=null;for(let o in i){let a=i[o].component,d=s[o];if(d&&d.isWithinClipping(e,t)){let h=d.computeLeft(),g=d.computeTop(),p=e-h,m=t-g,{origRect:f}=d,b=f.right-f.left,v=f.bottom-f.top;if(p>=0&&p<b&&m>=0&&m<v){let y=a.queryHit(p,m,b,v);y&&(0,n.ba)(y.dateProfile.activeRange,y.dateSpan.range)&&(!l||y.layer>l.layer)&&(y.componentId=o,y.context=a.context,y.rect.left+=h,y.rect.right+=h,y.rect.top+=g,y.rect.bottom+=g,l=y)}}}return l}}function N(r,e){return!r&&!e||Boolean(r)===Boolean(e)&&(0,n.bg)(r.dateSpan,e.dateSpan)}function F(r,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(r,e));return Object.assign(t,function we(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}(r,e.dateEnv)),t}let $=(()=>{class r extends n._{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let d=a.origEvent.target,{component:h,dragging:g}=this,{mirror:p}=g,{options:m}=h.context,f=h.context;this.subjectEl=a.subjectEl;let b=this.subjectSeg=(0,n.$)(a.subjectEl),y=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=(0,n.aW)(f.getCurrentData().eventStore,y),g.minDistance=a.isTouch?0:m.eventDragMinDistance,g.delay=a.isTouch&&y!==h.props.eventSelection?function ze(r){let{options:e}=r.context,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(h):null,p.parentNode=m.fixedMirrorParent?m.fixedMirrorParent:(0,n.a0)(d,".fc"),p.revertDuration=m.dragRevertDuration;let S=h.isValidSegDownEl(d)&&!(0,n.a0)(d,".fc-event-resizer");g.setIgnoreMove(!S),this.isDragging=S&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let d=this.component.context,h=this.eventRange,g=h.instance.instanceId;a.isTouch?g!==this.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):d.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(d.calendarApi.unselect(a),d.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new n.a1(d,h.def,h.instance),jsEvent:a.origEvent,view:d.viewApi}))},this.handleHitUpdate=(a,d)=>{if(!this.isDragging)return;let h=this.relevantEvents,g=this.hitDragging.initialHit,p=this.component.context,m=null,f=null,b=null,v=!1,y={affectedEvents:h,mutatedEvents:(0,n.I)(),isEvent:!0};if(a){m=a.context;let S=m.options;p===m||S.editable&&S.droppable?(f=function Me(r,e,t){let i=r.dateSpan,s=e.dateSpan,l=i.range.start,o=s.range.start,a={};i.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,s.allDay&&(l=(0,n.q)(l)));let d=(0,n.aB)(l,o,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);d.milliseconds&&(a.allDay=!1);let h={datesDelta:d,standardProps:a};for(let g of t)g(h,r,e);return h}(g,a,m.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(b=(0,n.bY)(h,m.getCurrentData().eventUiBases,f,m),y.mutatedEvents=b,(0,n.b_)(y,a.dateProfile,m)||(v=!0,f=null,b=null,y.mutatedEvents=(0,n.I)()))):m=null}this.displayDrag(m,y),v?(0,n.ay)():(0,n.ax)(),d||(p===m&&N(g,a)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=m,this.validMutation=f,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let d=this.component.context,h=d.viewApi,{receivingContext:g,validMutation:p}=this,m=this.eventRange.def,f=this.eventRange.instance,b=new n.a1(d,m,f),v=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),d.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:a.origEvent,view:h}),p){if(g===d){let E=new n.a1(d,y.defs[m.defId],f?y.instances[f.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:y});let w={oldEvent:b,event:E,relatedEvents:(0,n.w)(y,d,f),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:v})}},D={};for(let x of d.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(D,x(p,d));d.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),D),{el:a.subjectEl,delta:p.datesDelta,jsEvent:a.origEvent,view:h})),d.emitter.trigger("eventChange",w)}else if(g){let E={event:b,relatedEvents:(0,n.w)(v,d,f),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:v})}};d.emitter.trigger("eventLeave",Object.assign(Object.assign({},E),{draggedEl:a.subjectEl,view:h})),d.dispatch({type:"REMOVE_EVENTS",eventStore:v}),d.emitter.trigger("eventRemove",E);let D=y.instances[f.instanceId],x=new n.a1(g,y.defs[m.defId],D);g.dispatch({type:"MERGE_EVENTS",eventStore:y});let M={event:x,relatedEvents:(0,n.w)(y,g,D),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};g.emitter.trigger("eventAdd",M),a.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},F(S.dateSpan,g)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:S.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},M),{draggedEl:a.subjectEl,view:S.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:s}=i.context,l=this.dragging=new C(t.el);l.pointer.selector=r.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=s.dragScroll;let o=this.hitDragging=new z(this.dragging,n.a8);o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let l=this.receivingContext;l&&l!==t&&l.dispatch(l===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:(0,n.I)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return r.SELECTOR=".fc-event-draggable, .fc-event-resizable",r})();const He={fixedMirrorParent:n.n},Ne={dateClick:n.n,eventDragStart:n.n,eventDragStop:n.n,eventDrop:n.n,eventResizeStart:n.n,eventResizeStop:n.n,eventResize:n.n,drop:n.n,eventReceive:n.n,eventLeave:n.n};n.bJ.dataAttrPrefix="";var We=(0,k.rx)({name:"@fullcalendar/interaction",componentInteractions:[class xe extends n._{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this;s.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&N(o,a)){let{context:d}=s,h=Object.assign(Object.assign({},F(o.dateSpan,d)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:d.viewApi||d.calendarApi.view});d.emitter.trigger("dateClick",h)}}},this.dragging=new C(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new z(this.dragging,(0,n.bH)(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class Re extends n._{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:d}=this,{options:h}=a.context,g=h.selectable&&a.isValidDateDownEl(o.origEvent.target);d.setIgnoreMove(!g),d.delay=o.isTouch?function Ce(r){let{options:e}=r.context,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:d}=this.component,h=null,g=!1;if(o){let p=this.hitDragging.initialHit;o.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,o)||(h=function Te(r,e,t){let i=r.dateSpan,s=e.dateSpan,l=[i.range.start,i.range.end,s.range.start,s.range.end];l.sort(n.aw);let o={};for(let a of t){let d=a(r,e);if(!1===d)return null;d&&Object.assign(o,d)}return o.range={start:l[0],end:l[3]},o.allDay=i.allDay,o}(p,o,d.pluginHooks.dateSelectionTransformers)),(!h||!(0,n.b$)(h,o.dateProfile,d))&&(g=!0,h=null)}h?d.dispatch({type:"SELECT_DATES",selection:h}):a||d.dispatch({type:"UNSELECT_DATES"}),g?(0,n.ay)():(0,n.ax)(),a||(this.dragSelection=h)},this.handlePointerUp=o=>{this.dragSelection&&((0,n.cv)(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new C(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let l=this.hitDragging=new z(this.dragging,(0,n.bH)(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},$,class Ie extends n._{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:o}=this,a=this.querySegEl(l),d=(0,n.$)(a),h=this.eventRange=d.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=l=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=(0,n.aW)(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let d=this.querySegEl(l);this.draggingSegEl=d,this.draggingSeg=(0,n.$)(d),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:d,event:new n.a1(o,a.def,a.instance),jsEvent:l.origEvent,view:o.viewApi})},this.handleHitUpdate=(l,o,a)=>{let{context:d}=this.component,h=this.relevantEvents,g=this.hitDragging.initialHit,p=this.eventRange.instance,m=null,f=null,b=!1,v={affectedEvents:h,mutatedEvents:(0,n.I)(),isEvent:!0};l&&(l.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,l)||(m=function Pe(r,e,t,i){let s=r.context.dateEnv,a=(0,n.aB)(r.dateSpan.range.start,e.dateSpan.range.start,s,r.largeUnit);if(t){if(s.add(i.start,a)<i.end)return{startDelta:a}}else if(s.add(i.end,a)>i.start)return{endDelta:a};return null}(g,l,a.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),m&&(f=(0,n.bY)(h,d.getCurrentData().eventUiBases,m,d),v.mutatedEvents=f,(0,n.b_)(v,l.dateProfile,d)||(b=!0,m=null,f=null,v.mutatedEvents=null)),d.dispatch(f?{type:"SET_EVENT_RESIZE",state:v}:{type:"UNSET_EVENT_RESIZE"}),b?(0,n.ay)():(0,n.ax)(),o||(m&&N(g,l)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=f)},this.handleDragEnd=l=>{let{context:o}=this.component,a=this.eventRange.def,d=this.eventRange.instance,h=new n.a1(o,a,d),g=this.relevantEvents,p=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:l.origEvent,view:o.viewApi}),this.validMutation){let m=new n.a1(o,p.defs[a.defId],d?p.instances[d.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:p});let f={oldEvent:h,event:m,relatedEvents:(0,n.w)(p,o,d),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,n.e)(0),endDelta:this.validMutation.endDelta||(0,n.e)(0),jsEvent:l.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new C(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new z(this.dragging,(0,n.bH)(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return(0,n.a0)(e.subjectEl,".fc-event")}}],calendarInteractions:[class ke{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,l=(0,n.aS)(i.origEvent);this.matchesCancel=!!(0,n.a0)(l,s),this.matchesEvent=!!(0,n.a0)(l,$.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:l}=this,o=s.getCurrentData();if(!l.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new W(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:C,optionRefiners:He,listenerRefiners:Ne}),c=R(3580);function A(r,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of r)t[i.row].push(i);return t}function L(r,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of r)t[i.firstCol].push(i);return t}function Q(r,e){let t=[];if(r){for(let i=0;i<e;i+=1)t[i]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let i of r.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const K=(0,n.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ee(r){let{display:e}=r.eventRange.ui;return"list-item"===e||"auto"===e&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class te extends n.Y{render(){let{props:e}=this;return(0,c.az)(n.ck,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:K,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ie extends n.Y{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,o=(0,n.bR)(s,i.eventTimeFormat||K,t,!0,e.defaultDisplayEventEnd);return(0,c.az)(n.co,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,n.bV)(e.seg,t),defaultGenerator:Fe,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Fe(r){return(0,c.az)(c.HY,null,(0,c.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&(0,c.az)("div",{className:"fc-event-time"},r.timeText),(0,c.az)("div",{className:"fc-event-title"},r.event.title||(0,c.az)(c.HY,null,"\xa0")))}class _e extends n.Y{constructor(){super(...arguments),this.compileSegs=(0,n.z)(Ue)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return(0,c.az)(n.cs,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,c.az)(c.HY,null,t.map(l=>{let o=l.eventRange.instance.instanceId;return(0,c.az)("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},ee(l)?(0,c.az)(ie,Object.assign({seg:l,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},(0,n.bT)(l,e.todayRange))):(0,c.az)(te,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},(0,n.bT)(l,e.todayRange))))}))}})}}function Ue(r){let e=[],t=[];for(let i of r)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const Ge=(0,n.x)({week:"narrow"});class Ve extends n.bf{constructor(){super(...arguments),this.rootElRef=(0,c.Vf)(),this.state={dayNumberId:(0,n.a6)()},this.handleRootEl=e=>{(0,n.Z)(this.rootElRef,e),(0,n.Z)(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:s}=this,{options:l,dateEnv:o}=e,{date:a,dateProfile:d}=t;const h=t.showDayNumber&&function Be(r,e,t){const{start:i,end:s}=e,l=(0,n.bh)(s,-1),o=t.getYear(i),a=t.getMonth(i),d=t.getYear(l),h=t.getMonth(l);return!(o===d&&a===h)&&Boolean(r.valueOf()===i.valueOf()||1===t.getDay(r)&&r.valueOf()<s.valueOf())}(a,d.currentRange,o);return(0,c.az)(n.cm,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ye,date:a,dateProfile:d,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:h,extraRenderProps:t.extraRenderProps},(g,p)=>(0,c.az)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,c.az)(n.cr,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,n.b1)(e,a,"week"),date:a,defaultFormat:Ge}),!p.isDisabled&&(t.showDayNumber||(0,n.cn)(l)||t.forceDayTop)?(0,c.az)("div",{className:"fc-daygrid-day-top"},(0,c.az)(g,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,n.b1)(e,a)),{id:i.dayNumberId})})):t.showDayNumber?(0,c.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,c.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,c.az)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,c.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,c.az)(_e,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,c.az)("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Ye(r){return r.dayNumberText||(0,c.az)(c.HY,null,"\xa0")}function T(r,e,t,i){if(r.firstCol===e&&r.lastCol===t-1)return r;let s=r.eventRange,l=s.range,o=(0,n.o)(l,{start:i[e].date,end:(0,n.t)(i[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:r.isStart&&o.start.valueOf()===l.start.valueOf(),isEnd:r.isEnd&&o.end.valueOf()===l.end.valueOf()})}class $e extends n.bB{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,s=l=>!this.forceHidden[(0,n.bC)(l)];for(let l=0;l<i.length;l+=1)i[l]=i[l].filter(s);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:s,forceHidden:l}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:d}=e;if(this.hiddenConsumes&&o){const h=(0,n.bC)(o);if(!l[h])if(this.allowReslicing){const g=Object.assign(Object.assign({},o),{span:(0,n.bG)(o.span,t.span)});l[(0,n.bC)(g)]=!0,s[a][d]=g,this.splitEntry(o,t,i)}else l[h]=!0,i.push(o)}return super.handleInvalidInsertion(e,t,i)}}class se extends n.bf{constructor(){super(...arguments),this.cellElRefs=new n.cg,this.frameElRefs=new n.cg,this.fgElRefs=new n.cg,this.segHarnessRefs=new n.cg,this.rootElRef=(0,c.Vf)(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:s}=i,l=e.cells.length,o=L(e.businessHourSegs,l),a=L(e.bgEventSegs,l),d=L(this.getHighlightSegs(),l),h=L(this.getMirrorSegs(),l),{singleColPlacements:g,multiColPlacements:p,moreCnts:m,moreMarginTops:f}=function qe(r,e,t,i,s,l,o){let a=new $e;a.allowReslicing=!0,a.strictOrder=i,!0===e||!0===t?(a.maxCoord=l,a.hiddenConsumes=!0):"number"==typeof e?a.maxStackCnt=e:"number"==typeof t&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let d=[],h=[];for(let S=0;S<r.length;S+=1){let E=r[S],{instanceId:w}=E.eventRange.instance,D=s[w];null!=D?d.push({index:S,thickness:D,span:{start:E.firstCol,end:E.lastCol+1}}):h.push(E)}let g=a.addSegs(d),p=a.toRects(),{singleColPlacements:m,multiColPlacements:f,leftoverMargins:b}=function Xe(r,e,t){let i=function Ze(r,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of r)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}(r,t.length),s=[],l=[],o=[];for(let a=0;a<t.length;a+=1){let d=i[a],h=[],g=0,p=0;for(let f of d)h.push({seg:T(e[f.index],a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-g}),g=f.levelCoord+f.thickness;let m=[];g=0,p=0;for(let f of d){let b=e[f.index],y=f.span.start===a;p+=f.levelCoord-g,g=f.levelCoord+f.thickness,f.span.end-f.span.start>1?(p+=f.thickness,y&&m.push({seg:T(b,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):y&&(m.push({seg:T(b,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:p}),p=0)}s.push(h),l.push(m),o.push(p)}return{singleColPlacements:s,multiColPlacements:l,leftoverMargins:o}}(p,r,o),v=[],y=[];for(let S of h){f[S.firstCol].push({seg:S,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=S.firstCol;E<=S.lastCol;E+=1)m[E].push({seg:T(S,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<o.length;S+=1)v.push(0);for(let S of g){let E=r[S.index],w=S.span;f[w.start].push({seg:T(E,w.start,w.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let D=w.start;D<w.end;D+=1)v[D]+=1,m[D].push({seg:T(E,D,D+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<o.length;S+=1)y.push(b[S]);return{singleColPlacements:m,multiColPlacements:f,moreCnts:v,moreMarginTops:y}}((0,n.bS)(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,c.az)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((v,y)=>{let S=this.renderFgSegs(y,e.forPrint?g[y]:p[y],e.todayRange,b),E=this.renderFgSegs(y,function Je(r,e){if(!r.length)return[];let t=function Qe(r){let e={};for(let t of r)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}(e);return r.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}(h[y],p),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return(0,c.az)(Ve,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===y,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:m[y],moreMarginTop:f[y],singlePlacements:g[y],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:(0,c.az)(c.HY,null,(0,c.az)(c.HY,null,S),(0,c.az)(c.HY,null,E)),bgContent:(0,c.az)(c.HY,null,this.renderFillSegs(d[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(a[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){this.updateSizing(!(0,n.E)(e,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,s,l,o,a){let{context:d}=this,{eventSelection:h}=this.props,{framePositions:g}=this.state,p=1===this.props.cells.length,m=l||o||a,f=[];if(g)for(let b of t){let{seg:v}=b,{instanceId:y}=v.eventRange.instance,S=y+":"+e,E=b.isVisible&&!s[y],w=b.isAbsolute,D="",x="";w&&(d.isRtl?(x=0,D=g.lefts[v.lastCol]-g.lefts[v.firstCol]):(D=0,x=g.rights[v.firstCol]-g.rights[v.lastCol])),f.push((0,c.az)("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:S,ref:m?null:this.segHarnessRefs.createRef(S),style:{visibility:E?"":"hidden",marginTop:w?"":b.marginTop,top:w?b.absoluteTop:"",left:D,right:x}},ee(v)?(0,c.az)(ie,Object.assign({seg:v,isDragging:l,isSelected:y===h,defaultDisplayEventEnd:p},(0,n.bT)(v,i))):(0,c.az)(te,Object.assign({seg:v,isDragging:l,isResizing:o,isDateSelecting:a,isSelected:y===h,defaultDisplayEventEnd:p},(0,n.bT)(v,i)))))}return f}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:l}=this.state,o=[];if(l)for(let a of e){let d=i?{right:0,left:l.lefts[a.lastCol]-l.lefts[a.firstCol]}:{left:0,right:l.rights[a.firstCol]-l.rights[a.lastCol]};o.push((0,c.az)("div",{key:(0,n.bU)(a.eventRange),className:"fc-daygrid-bg-harness",style:d},"bg-event"===t?(0,c.az)(n.cq,Object.assign({seg:a},(0,n.bT)(a,s))):(0,n.cp)(t)))}return(0,c.az)(c.HY,{},...o)}updateSizing(e){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let d=t.cells.map(h=>s.currentMap[h.key]);if(d.length){let h=this.rootElRef.current,g=new n.bb(h,d,!0,!1);(!i.framePositions||!i.framePositions.similarTo(g))&&this.setState({framePositions:new n.bb(h,d,!0,!1)})}}const l=this.state.eventInstanceHeights,o=this.queryEventInstanceHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},l),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let s=Math.round(e[i].getBoundingClientRect().height),l=i.split(":")[0];t[l]=Math.max(t[l]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,i=this.fgElRefs.currentMap[e];return this.cellElRefs.currentMap[e].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}se.addStateEquality({eventInstanceHeights:n.E});class Ke extends n.bf{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,n.z)(A),this.splitBgEventSegs=(0,n.z)(A),this.splitFgEventSegs=(0,n.z)(A),this.splitDateSelectionSegs=(0,n.z)(A),this.splitEventDrag=(0,n.z)(Q),this.splitEventResize=(0,n.z)(Q),this.rowRefs=new n.cg}render(){let{props:e,context:t}=this,i=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),h=this.splitEventResize(e.eventResize,i),g=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,c.az)(n.ci,{unit:"day"},(p,m)=>(0,c.az)(c.HY,null,e.cells.map((f,b)=>(0,c.az)(se,{ref:this.rowRefs.createRef(b),key:f.length?f[0].date.toISOString():b,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:s[b],eventSelection:e.eventSelection,bgEventSegs:l[b].filter(et),fgEventSegs:o[b],dateSelectionSegs:a[b],eventDrag:d[b],eventResize:h[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){const e=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=e?e.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new n.bb(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new n.bb(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:s}=this,l=i.leftToIndex(e),o=s.topToIndex(t);if(null!=o&&null!=l){let a=this.props.cells[o][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,l),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,l),rect:{left:i.lefts[l],right:i.rights[l],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date;return{start:i,end:(0,n.t)(i,1)}}}function et(r){return r.eventRange.def.allDay}class tt extends n.bf{constructor(){super(...arguments),this.elRef=(0,c.Vf)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=e,l=!0===i||!0===t;return l&&!s&&(l=!1,t=null,i=null),(0,c.az)("div",{ref:this.elRef,className:["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,c.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,(0,c.az)("tbody",{role:"presentation"},(0,c.az)(Ke,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function it(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${(0,n.by)(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${(0,n.bw)(e.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}class st extends n.bX{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class ne extends n.bf{constructor(){super(...arguments),this.slicer=new st,this.tableRef=(0,c.Vf)()}render(){let{props:e,context:t}=this;return(0,c.az)(tt,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class lt extends n.bf{constructor(){super(...arguments),this.headerElRef=(0,c.Vf)()}renderSimpleLayout(e,t){let{props:i,context:s}=this,l=[],o=(0,n.cd)(s.options);return e&&l.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,c.az)(n.cu,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},(0,c.az)(n.c0,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,i,s){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,d=!o.forPrint&&(0,n.cd)(a.options),h=!o.forPrint&&(0,n.cc)(a.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),h&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:n.cb}]}),(0,c.az)(n.cu,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},(0,c.az)(l,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:g}))}}function at(r,e){let t=new n.bP(r.renderRange,e);return new n.bW(t,/year|month|week/.test(r.currentRangeUnit))}(0,n.i)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var ct=(0,k.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class ot extends lt{constructor(){super(...arguments),this.buildDayTableModel=(0,n.z)(at),this.headerRef=(0,c.Vf)(),this.tableRef=(0,c.Vf)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),l=e.dayHeaders&&(0,c.az)(n.bL,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),o=a=>(0,c.az)(ne,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,o)}},dateProfileGeneratorClass:class nt extends n.U{buildRenderRange(e,t,i){let s=super.buildRenderRange(e,t,i),{props:l}=this;return function rt(r){let l,{dateEnv:e,currentRange:t}=r,{start:i,end:s}=t;if(r.snapToWeek&&(i=e.startOfWeek(i),l=e.startOfWeek(s),l.valueOf()!==s.valueOf()&&(s=(0,n.bi)(l,1))),r.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth((0,n.t)(t.end,-1))),a=Math.ceil((0,n.bj)(o,s));s=(0,n.bi)(s,6-a)}return{start:i,end:s}}({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class ht extends n.aZ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?(0,n.bQ)(e)?["timed","allDay"]:["allDay"]:["timed"]}}const gt=(0,n.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function re(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,c.az)(n.V.Consumer,null,t=>{if(!r.isLabeled)return(0,c.az)("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:i,options:s,viewApi:l}=t,o=null==s.slotLabelFormat?gt:Array.isArray(s.slotLabelFormat)?(0,n.x)(s.slotLabelFormat[0]):(0,n.x)(s.slotLabelFormat),a={level:0,time:r.time,date:i.toDate(r.date),view:l,text:i.format(r.date,o)};return(0,c.az)(n.C,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:ut,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},d=>(0,c.az)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,c.az)(d,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ut(r){return r.text}class ft extends n.Y{render(){return this.props.slatMetas.map(e=>(0,c.az)("tr",{key:e.key},(0,c.az)(re,Object.assign({},e))))}}const pt=(0,n.x)({week:"short"});class vt extends n.bf{constructor(){super(...arguments),this.allDaySplitter=new ht,this.headerElRef=(0,c.Vf)(),this.rootElRef=(0,c.Vf)(),this.scrollerElRef=(0,c.Vf)(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,l=s.renderRange,a=1===(0,n.bm)(l.start,l.end)?(0,n.b1)(this.context,l.start,"week"):{};return i.weekNumbers&&"day"===e?(0,c.az)(n.cr,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:l.start,defaultFormat:pt},d=>(0,c.az)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},(0,c.az)(d,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):(0,c.az)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,c.az)("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context;return(0,c.az)(n.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:yt,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},l=>(0,c.az)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},(0,c.az)(l,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:s,props:l}=this,o=[],a=(0,n.cd)(s.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(o.push({type:"body",key:"all-day",chunk:{content:t}}),o.push({type:"body",key:"all-day-divider",outerContent:(0,c.az)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,c.az)("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(s.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),(0,c.az)(n.cu,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},(0,c.az)(n.c0,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,t,i,s,l,o,a){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{context:h,props:g}=this,p=!g.forPrint&&(0,n.cd)(h.options),m=!g.forPrint&&(0,n.cc)(h.options),f=[];e&&f.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>(0,c.az)("tr",{role:"presentation"},this.renderHeadAxis("day",v.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>(0,c.az)("tr",{role:"presentation"},this.renderTableRowAxis(v.rowSyncHeights[0]))},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:(0,c.az)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,c.az)("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));let b=h.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(h.options.expandRows),chunks:[{key:"axis",content:v=>(0,c.az)("div",{className:"fc-timegrid-axis-chunk"},(0,c.az)("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,(0,c.az)("tbody",null,(0,c.az)(ft,{slatMetas:o}))),(0,c.az)("div",{className:"fc-timegrid-now-indicator-container"},(0,c.az)(n.ci,{unit:b?"minute":"day"},y=>{let S=b&&a&&a.safeComputeTop(y);return"number"==typeof S?(0,c.az)(n.cl,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:S},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),m&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:n.cb},{key:"cols",content:n.cb}]}),(0,c.az)(n.cu,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:h.viewSpec},(0,c.az)(d,{liquid:!g.isHeightAuto&&!g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:l}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(!0===e||!0===t)&&(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function yt(r){return r.text}class bt{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if((0,n.H)(t.currentRange,e)){let i=(0,n.q)(e),s=e.valueOf()-i.valueOf();if(s>=(0,n.bt)(t.slotMinTime)&&s<(0,n.bt)(t.slotMaxTime))return this.computeTimeTop((0,n.e)(s))}return null}computeDateTop(e,t){return t||(t=(0,n.q)(e)),this.computeTimeTop((0,n.e)(e.valueOf()-t.valueOf()))}computeTimeTop(e){let o,a,{positions:t,dateProfile:i}=this,s=t.els.length,l=(e.milliseconds-(0,n.bt)(i.slotMinTime))/(0,n.bt)(this.slotDuration);return l=Math.max(0,l),l=Math.min(s,l),o=Math.floor(l),o=Math.min(o,s-1),a=l-o,t.tops[o]+t.getHeight(o)*a}}class St extends n.Y{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:s}=e;return(0,c.az)("tbody",null,e.slatMetas.map((l,o)=>{let a={time:l.time,date:t.dateEnv.toDate(l.date),view:t.viewApi};return(0,c.az)("tr",{key:l.key,ref:s.createRef(l.key)},e.axis&&(0,c.az)(re,Object.assign({},l)),(0,c.az)(n.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!l.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":l.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class Et extends n.Y{constructor(){super(...arguments),this.rootElRef=(0,c.Vf)(),this.slatElRefs=new n.cg}render(){let{props:e,context:t}=this;return(0,c.az)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,c.az)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,c.az)(St,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new bt(new n.bb(this.rootElRef.current,function Dt(r,e){return e.map(t=>r[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function I(r,e){let i,t=[];for(i=0;i<e;i+=1)t.push([]);if(r)for(i=0;i<r.length;i+=1)t[r[i].col].push(r[i]);return t}function le(r,e){let t=[];if(r){for(let i=0;i<e;i+=1)t[i]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let i of r.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}class wt extends n.Y{render(){let{props:e}=this;return(0,c.az)(n.cs,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>ce(e.hiddenSegs,e),defaultGenerator:xt},t=>(0,c.az)(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function xt(r){return r.shortText}function oe(r,e){if(!r)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=r,l=i,o=[];for(;l<s;)o.push(e(t,l)),l+=1;return o.sort(Tt),[o.map(Mt),o[0][1]]}function Tt(r,e){return e[1]-r[1]}function Mt(r){return r[0]}function Pt(r){let e=[];const t=_((s,l,o)=>(0,n.bC)(s),(s,l,o)=>{let a=Object.assign(Object.assign({},s),{levelCoord:l,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=i(s.nextLevelNodes,l+s.thickness,o+1)+1});function i(s,l,o){let a=0;for(let d of s)a=Math.max(t(d,l,o),a);return a}return i(r,0,0),e}function _(r,e){const t={};return(...i)=>{let s=r(...i);return s in t?t[s]:t[s]=e(...i)}}function ae(r,e,t=null,i=0){let s=[];if(t)for(let l=0;l<r.length;l+=1){let o=r[l],a=t.computeDateTop(o.start,e),d=Math.max(a+(i||0),t.computeDateTop(o.end,e));s.push({start:Math.round(a),end:Math.round(d)})}return s}const Ht=(0,n.x)({hour:"numeric",minute:"2-digit",meridiem:!1});class de extends n.Y{render(){return(0,c.az)(n.ck,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Ht}))}}class Nt extends n.Y{constructor(){super(...arguments),this.sortEventSegs=(0,n.z)(n.bS)}render(){let{props:e,context:t}=this,{options:i}=t,s=i.selectMirror,l=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return(0,c.az)(n.cm,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},d=>(0,c.az)("div",{className:"fc-timegrid-col-frame"},(0,c.az)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),(0,c.az)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),(0,c.az)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(s))),(0,c.az)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),(0,n.cn)(i)&&(0,c.az)(d,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,s,l){let{props:o}=this;return o.forPrint?ce(e,o):this.renderPositionedFgSegs(e,t,i,s,l)}renderPositionedFgSegs(e,t,i,s,l){let{eventMaxStack:o,eventShortHeight:a,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:p,eventSelection:m,todayRange:f,nowDate:b}=this.props,v=i||s||l,y=ae(e,g,p,h),{segPlacements:S,hiddenGroups:E}=function kt(r,e,t,i){let s=[],l=[];for(let h=0;h<r.length;h+=1){let g=e[h];g?s.push({index:h,thickness:1,span:g}):l.push(r[h])}let{segRects:o,hiddenGroups:a}=function Rt(r,e,t){let i=new n.bB;null!=e&&(i.strictOrder=e),null!=t&&(i.maxStackCnt=t);let s=i.addSegs(r),l=(0,n.bF)(s),o=function Ct(r){const{entriesByLevel:e}=r,t=_((i,s)=>i+":"+s,(i,s)=>{let l=function zt(r,e,t){let{levelCoords:i,entriesByLevel:s}=r,l=s[e][t],o=i[e]+l.thickness,a=i.length,d=e;for(;d<a&&i[d]<o;d+=1);for(;d<a;d+=1){let g,h=s[d],p=(0,n.bE)(h,l.span.start,n.bD),m=p[0]+p[1],f=m;for(;(g=h[f])&&g.span.start<l.span.end;)f+=1;if(m<f)return{level:d,lateralStart:m,lateralEnd:f}}return null}(r,i,s),o=oe(l,t),a=e[i][s];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return oe(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}(i);return o=function It(r,e){const t=_((i,s,l)=>(0,n.bC)(i),(i,s,l)=>{let g,{nextLevelNodes:o,thickness:a}=i,d=a+l,h=a/d,p=[];if(o.length)for(let f of o)if(void 0===g){let b=t(f,s,d);g=b[0],p.push(b[1])}else{let b=t(f,g,0);p.push(b[1])}else g=e;let m=(g-s)*h;return[g-m,Object.assign(Object.assign({},i),{thickness:m,nextLevelNodes:p})]});return r.map(i=>t(i,0,0)[1])}(o,1),{segRects:Pt(o),hiddenGroups:l}}(s,t,i),d=[];for(let h of o)d.push({seg:r[h.index],rect:h});for(let h of l)d.push({seg:h,rect:null});return{segPlacements:d,hiddenGroups:a}}(e,y,d,o);return(0,c.az)(c.HY,null,this.renderHiddenGroups(E,e),S.map(w=>{let{seg:D,rect:x}=w,M=D.eventRange.instance.instanceId,bi=v||Boolean(!t[M]&&x),Si=U(x&&x.span),Ei=!v&&x?this.computeSegHStyle(x):{left:0,right:0},Di=Boolean(x)&&x.stackForward>0,wi=Boolean(x)&&x.span.end-x.span.start<a;return(0,c.az)("div",{className:"fc-timegrid-event-harness"+(Di?" fc-timegrid-event-harness-inset":""),key:M,style:Object.assign(Object.assign({visibility:bi?"":"hidden"},Si),Ei)},(0,c.az)(de,Object.assign({seg:D,isDragging:i,isResizing:s,isDateSelecting:l,isSelected:M===m,isShort:wi},(0,n.bT)(D,f,b))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:s,todayRange:l,nowDate:o,eventSelection:a,eventDrag:d,eventResize:h}=this.props;return(0,c.az)(c.HY,null,e.map(g=>{let p=U(g.span),m=function At(r,e){return r.map(t=>e[t.index])}(g.entries,t);return(0,c.az)(wt,{key:(0,n.bx)((0,n.ct)(m)),hiddenSegs:m,top:p.top,bottom:p.bottom,extraDateSpan:i,dateProfile:s,todayRange:l,nowDate:o,eventSelection:a,eventDrag:d,eventResize:h})}))}renderFillSegs(e,t){let{props:i,context:s}=this,o=ae(e,i.date,i.slatCoords,s.options.eventMinHeight).map((a,d)=>{let h=e[d];return(0,c.az)("div",{key:(0,n.bU)(h.eventRange),className:"fc-timegrid-bg-harness",style:U(a)},"bg-event"===t?(0,c.az)(n.cq,Object.assign({seg:h},(0,n.bT)(h,i.todayRange,i.nowDate))):(0,n.cp)(t))});return(0,c.az)(c.HY,null,o)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((s,l)=>(0,c.az)(n.cl,{key:l,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let a,d,{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,l=e.levelCoord,o=e.levelCoord+e.thickness;s&&(o=Math.min(1,l+2*(o-l))),t?(a=1-o,d=l):(a=l,d=1-o);let h={zIndex:e.stackDepth+1,left:100*a+"%",right:100*d+"%"};return s&&!e.stackForward&&(h[t?"marginLeft":"marginRight"]=20),h}}function ce(r,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:s,eventResize:l}){let o=(s?s.affectedInstances:null)||(l?l.affectedInstances:null)||{};return(0,c.az)(c.HY,null,r.map(a=>{let d=a.eventRange.instance.instanceId;return(0,c.az)("div",{key:d,style:{visibility:o[d]?"hidden":""}},(0,c.az)(de,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===i,isShort:!1},(0,n.bT)(a,e,t))))}))}function U(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}class Lt extends n.Y{constructor(){super(...arguments),this.splitFgEventSegs=(0,n.z)(I),this.splitBgEventSegs=(0,n.z)(I),this.splitBusinessHourSegs=(0,n.z)(I),this.splitNowIndicatorSegs=(0,n.z)(I),this.splitDateSelectionSegs=(0,n.z)(I),this.splitEventDrag=(0,n.z)(le),this.splitEventResize=(0,n.z)(le),this.rootElRef=(0,c.Vf)(),this.cellElRefs=new n.cg}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,l=this.splitFgEventSegs(e.fgEventSegs,s),o=this.splitBgEventSegs(e.bgEventSegs,s),a=this.splitBusinessHourSegs(e.businessHourSegs,s),d=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),h=this.splitDateSelectionSegs(e.dateSelectionSegs,s),g=this.splitEventDrag(e.eventDrag,s),p=this.splitEventResize(e.eventResize,s);return(0,c.az)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,c.az)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,(0,c.az)("tbody",{role:"presentation"},(0,c.az)("tr",{role:"row"},e.axis&&(0,c.az)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,c.az)("div",{className:"fc-timegrid-col-frame"},(0,c.az)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&(0,c.az)(n.cl,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((m,f)=>(0,c.az)(Nt,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:l[f],bgEventSegs:o[f],businessHourSegs:a[f],nowIndicatorSegs:d[f],dateSelectionSegs:h[f],eventDrag:g[f],eventResize:p[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new n.bb(this.rootElRef.current,function Ot(r,e){return e.map(t=>r[t.key])}(this.cellElRefs.currentMap,e.cells),!0,!1))}}class jt extends n.bf{constructor(){super(...arguments),this.processSlotOptions=(0,n.z)(Wt),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let s=i.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return(0,c.az)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,c.az)(Et,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,c.az)(Lt,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:s}=this.context,{colCoords:l}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:d,snapsPerSlot:h}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),g=l.leftToIndex(e),p=a.positions.topToIndex(t);if(null!=g&&null!=p){let m=this.props.cells[g],f=a.positions.tops[p],b=a.positions.getHeight(p),y=Math.floor((t-f)/b*h),E=this.props.cells[g].date,w=(0,n.bq)(o.slotMinTime,(0,n.bp)(d,p*h+y)),D=i.add(E,w),x=i.add(D,d);return{dateProfile:o,dateSpan:Object.assign({range:{start:D,end:x},allDay:!1},m.extraDateSpan),dayEl:l.els[g],rect:{left:l.lefts[g],right:l.rights[g],top:f,bottom:f+b},layer:0}}return null}}function Wt(r,e){let t=e||r,i=(0,n.bu)(r,t);return null===i&&(t=r,i=1),{snapDuration:t,snapsPerSlot:i}}class Ft extends n.bX{sliceRange(e,t){let i=[];for(let s=0;s<t.length;s+=1){let l=(0,n.o)(e,t[s]);l&&i.push({start:l.start,end:l.end,isStart:l.start.valueOf()===e.start.valueOf(),isEnd:l.end.valueOf()===e.end.valueOf(),col:s})}return i}}class _t extends n.bf{constructor(){super(...arguments),this.buildDayRanges=(0,n.z)(Ut),this.slicer=new Ft,this.timeColsRef=(0,c.Vf)()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:s}=e,{nowIndicator:l,nextDayThreshold:o}=t.options,a=this.buildDayRanges(s,i,t.dateEnv);return(0,c.az)(n.ci,{unit:l?"minute":"day"},(d,h)=>(0,c.az)(jt,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:d,nowIndicatorSegs:l&&this.slicer.sliceNowDate(d,i,o,t,a),todayRange:h,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Ut(r,e,t){let i=[];for(let s of r.headerDates)i.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return i}const he=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Gt(r,e,t,i,s){let l=new Date(0),o=r,a=(0,n.e)(0),d=t||function Vt(r){let e,t,i;for(e=he.length-1;e>=0;e-=1)if(t=(0,n.e)(he[e]),i=(0,n.bu)(t,r),null!==i&&i>1)return t;return r}(i),h=[];for(;(0,n.bt)(o)<(0,n.bt)(e);){let g=s.add(l,o),p=null!==(0,n.bu)(a,d);h.push({date:g,time:o,key:g.toISOString(),isoTimeStr:(0,n.bv)(g),isLabeled:p}),o=(0,n.bq)(o,i),a=(0,n.bq)(a,i)}return h}function Bt(r,e){let t=new n.bP(r.renderRange,e);return new n.bW(t,!1)}const qt={allDaySlot:Boolean};(0,n.i)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var Zt=(0,k.rx)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:qt,views:{timeGrid:{component:class Yt extends vt{constructor(){super(...arguments),this.buildTimeColsModel=(0,n.z)(Bt),this.buildSlatMetas=(0,n.z)(Gt)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:l}=s,o=this.buildTimeColsModel(l,i),a=this.allDaySplitter.splitProps(s),d=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:h}=e,g=!h,p=h,m=e.dayHeaders&&(0,c.az)(n.bL,{dates:o.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),f=!1!==e.allDaySlot&&(v=>(0,c.az)(ne,Object.assign({},a.allDay,{dateProfile:l,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:g?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),b=v=>(0,c.az)(_t,Object.assign({},a.timed,{dayTableModel:o,dateProfile:l,axis:g,slotDuration:e.slotDuration,slatMetas:d,forPrint:s.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(m,f,b,o.colCnt,h,d,this.state.slatCoords):this.renderSimpleLayout(m,f,b)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class $t extends n.Y{constructor(){super(...arguments),this.state={textId:(0,n.a6)()}}render(){let{theme:e,dateEnv:t,options:i,viewApi:s}=this.context,{cellId:l,dayDate:o,todayRange:a}=this.props,{textId:d}=this.state,h=(0,n.a$)(o,a),g=i.listDayFormat?t.format(o,i.listDayFormat):"",p=i.listDaySideFormat?t.format(o,i.listDaySideFormat):"",m=Object.assign({date:t.toDate(o),view:s,textId:d,text:g,sideText:p,navLinkAttrs:(0,n.b1)(this.context,o),sideNavLinkAttrs:(0,n.b1)(this.context,o,"day",!1)},h);return(0,c.az)(n.C,{elTag:"tr",elClasses:["fc-list-day",...(0,n.a_)(h,e)],elAttrs:{"data-date":(0,n.bw)(o)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Jt,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},f=>(0,c.az)("th",{scope:"colgroup",colSpan:3,id:l,"aria-labelledby":d},(0,c.az)(f,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Jt(r){return(0,c.az)(c.HY,null,r.text&&(0,c.az)("a",Object.assign({id:r.textId,className:"fc-list-day-text"},r.navLinkAttrs),r.text),r.sideText&&(0,c.az)("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},r.sideNavLinkAttrs),r.sideText))}const Qt=(0,n.x)({hour:"numeric",minute:"2-digit",meridiem:"short"});class Kt extends n.Y{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s,timeHeaderId:l,eventHeaderId:o,dateHeaderId:a}=e,d=i.eventTimeFormat||Qt;return(0,c.az)(n.co,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function ei(r,e){let t=(0,n.bV)(r,e);return(0,c.az)("a",Object.assign({},t),r.eventRange.def.title)}(s,t),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(h,g)=>(0,c.az)(c.HY,null,function ti(r,e,t,i,s){let{options:l}=t;if(!1!==l.displayEventTime){let h,a=r.eventRange.instance,d=!1;return r.eventRange.def.allDay?d=!0:(0,n.aA)(r.eventRange.range)?r.isStart?h=(0,n.bR)(r,e,t,null,null,a.range.start,r.end):r.isEnd?h=(0,n.bR)(r,e,t,null,null,r.start,a.range.end):d=!0:h=(0,n.bR)(r,e,t),d?(0,c.az)(n.C,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:l.allDayContent,defaultGenerator:ii,classNameGenerator:l.allDayClassNames,didMount:l.allDayDidMount,willUnmount:l.allDayWillUnmount}):(0,c.az)("td",{className:"fc-list-event-time"},h)}return null}(s,d,t,l,a),(0,c.az)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},(0,c.az)("span",{className:"fc-list-event-dot",style:{borderColor:g.borderColor||g.backgroundColor}})),(0,c.az)(h,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${a}`}})))}}function ii(r){return r.text}function ni(r){return r.text}function ri(r){let e=(0,n.q)(r.renderRange.start),t=r.renderRange.end,i=[],s=[];for(;e<t;)i.push(e),s.push({start:e,end:(0,n.t)(e,1)}),e=(0,n.t)(e,1);return{dayDates:i,dayRanges:s}}const oi={listDayFormat:ge,listDaySideFormat:ge,noEventsClassNames:n.n,noEventsContent:n.n,noEventsDidMount:n.n,noEventsWillUnmount:n.n};function ge(r){return!1===r?null:(0,n.x)(r)}(0,n.i)(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var di=(0,k.rx)({name:"@fullcalendar/list",optionRefiners:oi,views:{list:{component:class si extends n.bf{constructor(){super(...arguments),this.computeDateVars=(0,n.z)(ri),this.eventStoreToSegs=(0,n.z)(this._eventStoreToSegs),this.state={timeHeaderId:(0,n.a6)(),eventHeaderId:(0,n.a6)(),dateHeaderIdRoot:(0,n.a6)()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:i,dayRanges:s}=this.computeDateVars(e.dateProfile),l=this.eventStoreToSegs(e.eventStore,e.eventUiBases,s);return(0,c.az)(n.cu,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},(0,c.az)(n.ce,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},l.length>0?this.renderSegList(l,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context;return(0,c.az)(n.C,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:e.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:ni,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},s=>(0,c.az)(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:i,options:s}=this.context,{timeHeaderId:l,eventHeaderId:o,dateHeaderIdRoot:a}=this.state,d=function li(r){let t,i,e=[];for(t=0;t<r.length;t+=1)i=r[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}(e);return(0,c.az)(n.ci,{unit:"day"},(h,g)=>{let p=[];for(let m=0;m<d.length;m+=1){let f=d[m];if(f){let b=(0,n.bw)(t[m]),v=a+"-"+b;p.push((0,c.az)($t,{key:b,cellId:v,dayDate:t[m],todayRange:g})),f=(0,n.bS)(f,s.eventOrder);for(let y of f)p.push((0,c.az)(Kt,Object.assign({key:b+":"+y.eventRange.instance.instanceId,seg:y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:l,eventHeaderId:o,dateHeaderId:v},(0,n.bT)(y,g,h))))}}return(0,c.az)("table",{className:"fc-list-table "+i.getClass("table")},(0,c.az)("thead",null,(0,c.az)("tr",null,(0,c.az)("th",{scope:"col",id:l},s.timeHint),(0,c.az)("th",{scope:"col","aria-hidden":!0}),(0,c.az)("th",{scope:"col",id:o},s.eventHint))),(0,c.az)("tbody",null,p))})}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs((0,n.ag)(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let s of e)i.push(...this.eventRangeToSegs(s,t));return i}eventRangeToSegs(e,t){let a,d,h,{dateEnv:i}=this.context,{nextDayThreshold:s}=this.context.options,l=e.range,o=e.def.allDay,g=[];for(a=0;a<t.length;a+=1)if(d=(0,n.o)(l,t[a]),d&&(h={component:this,eventRange:e,start:d.start,end:d.end,isStart:e.isStart&&d.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&d.end.valueOf()===l.end.valueOf(),dayIndex:a},g.push(h),!h.isEnd&&!o&&a+1<t.length&&l.end<i.add(t[a+1].start,s))){h.end=l.end,h.isEnd=!0;break}return g}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),u=R(8256),G=R(2943),V=R(433),ci=R(9476);let hi=(()=>{class r{constructor(t,i){this.route=t,this.courtSvc=i,this.calendarVisible=!0,this.calendarOptions={initialView:"timeGridFourDay",showNonCurrentDates:!1,slotDuration:"00:60:00",slotLabelInterval:{hours:1},slotMinTime:"09:00:00",slotMaxTime:"20:00:00",slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1,meridiem:"short"},plugins:[ct,We,Zt,di],dateClick:this.handleDateClick.bind(this),editable:!1,views:{timeGridFourDay:{type:"timeGrid",duration:{days:4}}}}}ngOnInit(){this.courtSvc.getCourt(this.route.snapshot.params.id).subscribe({next:i=>{this.court=i},error:i=>{console.log(i)}})}handleDateClick(t){alert("date click! "+t.dateStr)}handleDateSelect(t){const i=prompt("Please enter a new title for your event"),s=t.view.calendar;s.unselect(),i&&s.addEvent({title:i,start:Date.now()})}}return r.\u0275fac=function(t){return new(t||r)(u.Y36(P.gz),u.Y36(G.H))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-item"]],decls:25,vars:6,consts:[[1,"container"],[1,"row","col-sm-12"],["id","calendar",1,"col-sm-8","col-md-8"],[3,"options"],[1,"col-sm-4","col-md-4"],[1,"col-sm-12"],[1,"form-group"],["for","uname"],["type","text","name","uname","id","uname","readonly","",1,"form-control",3,"value"],["for","password"],["type","text","id","password","name","password","readonly","",1,"form-control",3,"value"],["for","price"],["type","text","id","price","name","price","readonly","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2),u.qZA(),u.TgZ(3,"div",1)(4,"div",2),u._UZ(5,"full-calendar",3),u.qZA(),u.TgZ(6,"div",4)(7,"div",5)(8,"h1"),u._uU(9,"Reserve this court now!"),u.qZA(),u.TgZ(10,"form")(11,"div",6)(12,"label",7),u._uU(13,"Id of court"),u.qZA(),u._UZ(14,"input",8),u.qZA(),u.TgZ(15,"div",6)(16,"label",9),u._uU(17,"Sport"),u.qZA(),u._UZ(18,"input",10),u.qZA(),u.TgZ(19,"div",6)(20,"label",11),u._uU(21,"Price per hour"),u.qZA(),u._UZ(22,"input",12),u.qZA(),u.TgZ(23,"button",13),u._uU(24,"Submit"),u.qZA()()()()()()),2&t&&(u.xp6(2),u.AsE("Id of the Court: ",i.court.idCourt,"/",i.court.sport,""),u.xp6(3),u.Q6J("options",i.calendarOptions),u.xp6(9),u.s9C("value",i.court.idCourt),u.xp6(4),u.s9C("value",i.court.sport),u.xp6(4),u.MGl("value","",i.court.price,"$"))},dependencies:[V._Y,V.JL,V.F,ci.w],styles:["img[_ngcontent-%COMP%]{border-radius:2%;margin-top:15%;max-height:100%;max-width:100%}"]}),r})();var gi=R(7556),ue=R(6895);function ui(r,e){if(1&r&&(u.TgZ(0,"div",2),u._UZ(1,"img",3),u.TgZ(2,"div",4)(3,"h5",5),u._uU(4),u.qZA()(),u.TgZ(5,"ul",6)(6,"li",7),u._uU(7),u.qZA(),u.TgZ(8,"li",7),u._uU(9),u.qZA()(),u.TgZ(10,"div",4)(11,"a",8),u._uU(12,"View disponibility"),u.qZA()()()),2&r){const t=e.$implicit;u.xp6(1),u.s9C("src",t.img,u.LSH),u.xp6(3),u.hij("Id: ",t.idCourt,""),u.xp6(3),u.hij("Sport: ",t.sport,""),u.xp6(2),u.hij("Price of court: ",t.price,""),u.xp6(2),u.MGl("routerLink","/court/",t.idCourt,"")}}let fi=(()=>{class r{constructor(t){this.courtService=t,this.courtList=[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(u.Y36(G.H))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-list"]],inputs:{courtList:"courtList"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card carta",4,"ngFor","ngForOf"],[1,"card","carta"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-link",3,"routerLink"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,ui,13,5,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",i.courtList))},dependencies:[ue.sg,P.yS],styles:[".carta[_ngcontent-%COMP%]{width:17rem;margin:.3rem;float:left}"]}),r})();function pi(r,e){if(1&r){const t=u.EpF();u.TgZ(0,"li",6)(1,"p",7),u.NdJ("click",function(){const l=u.CHM(t).$implicit,o=u.oxw();return u.KtG(o.dispararEvento(l.idCentre))}),u._uU(2),u.qZA()()}if(2&r){const t=e.$implicit;u.xp6(2),u.hij(" ",t.name," ")}}let mi=(()=>{class r{constructor(){this.centerList=[],this.pistasDeEseCentro=new u.vpe}ngOnInit(){}dispararEvento(t){this.pistasDeEseCentro.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-sidebar"]],inputs:{centerList:"centerList"},outputs:{pistasDeEseCentro:"pistasDeEseCentro"},decls:9,vars:1,consts:[["id","principal",1,"d-flex","flex-column","flex-shrink-0","p-3"],[1,"fs-4"],[1,"list-group"],[1,"list-group-item","py-1",3,"click"],[1,"pointer"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"pointer",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"span",1),u._uU(2,"List of centers"),u.qZA(),u.TgZ(3,"ul",2)(4,"li",3),u.NdJ("click",function(){return i.dispararEvento(0)}),u.TgZ(5,"p",4),u._uU(6,"All centers"),u.qZA()(),u.YNc(7,pi,3,1,"li",5),u.qZA(),u._UZ(8,"hr"),u.qZA()),2&t&&(u.xp6(7),u.Q6J("ngForOf",i.centerList))},dependencies:[ue.sg],styles:["#principal[_ngcontent-%COMP%]{background-color:#f0f8ff;height:100%;font-size:large;border-radius:5px}span[_ngcontent-%COMP%]{margin:10px}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),r})();const vi=[{path:"",children:[{path:"centers",component:(()=>{class r{constructor(t,i){this.centerSvc=t,this.courtService=i,this.centerList=[],this.courtList=[]}ngOnInit(){this.centerSvc.getCentres().subscribe({next:t=>{this.centerList=t},error:t=>{console.log(t)}}),this.cargarPistas(0)}cargarPistas(t){0!=t?this.courtService.getCourtsByCenter(t).subscribe({next:i=>{this.courtList=i},error:i=>{console.log(i)}}):this.courtService.getCourts().subscribe({next:i=>{this.courtList=i},error:i=>{console.log(i)}})}}return r.\u0275fac=function(t){return new(t||r)(u.Y36(gi.S),u.Y36(G.H))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-main"]],decls:6,vars:2,consts:[[1,"container"],[1,"row","col-12"],["id","sidebar",1,"col-sm-3"],[3,"centerList","pistasDeEseCentro"],["id","cards",1,"col-sm-9"],[3,"courtList"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-sidebar",3),u.NdJ("pistasDeEseCentro",function(l){return i.cargarPistas(l)}),u.qZA()(),u.TgZ(4,"div",4),u._UZ(5,"app-list",5),u.qZA()()()),2&t&&(u.xp6(3),u.Q6J("centerList",i.centerList),u.xp6(2),u.Q6J("courtList",i.courtList))},dependencies:[fi,mi],styles:["#sidebar[_ngcontent-%COMP%]{text-align:center;float:left;width:20%;min-height:100%;display:flex;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden}#cards[_ngcontent-%COMP%]{display:flex;float:left;width:80%}"]}),r})()}]},{path:"court/:id",component:hi}];let yi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[P.Bz.forChild(vi),P.Bz]}),r})()}}]);